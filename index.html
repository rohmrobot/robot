<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Robot Operation</title>
  <style>
    /* Ensure the html and body take up the full height and width */
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
    /* Ensure the video container also takes up the full height and width */
    #videoContainer {
      height: 100%;
      width: 100%;
    }
  </style>
</head>
<body>
  <div id="videoContainer"></div> <!-- Placeholder for the YouTube iframe -->
  <script>
    const queryString = decodeURIComponent(window.location.search).replace("?liff.state=", "");
    const params = new URLSearchParams(queryString);
    const source = params.get('source');
    const id = params.get('id');
    console.log(id);
    if(source != null && source != '')
    {
      if(source == 'drive')
      {
        window.location.assign('https://drive.google.com/file/d/' + id + '/preview');
      }
      if(source == 'youtube')
      {
        const iframe = document.createElement('iframe');
        iframe.style.width = '100%'; // Set width to 100%
        iframe.style.height = '100%'; // Set height to 100%
        iframe.setAttribute('src', `https://www.youtube.com/embed/${id}?autoplay=1&vq=hd1080`);
        iframe.setAttribute('frameborder', '0');
        iframe.setAttribute('allow', 'accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture');
        iframe.setAttribute('allowfullscreen', 'true');
        document.getElementById('videoContainer').appendChild(iframe);
      }
    } 
    else {
      window.location.assign("https://drive.google.com/drive/folders/1pq--fIQp7UdZVISdaX3aR5y5Jrf9lqJz?usp=drive_link");
    }
  </script>
</body>
</html>
